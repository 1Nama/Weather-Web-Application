<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <h1 class="welcome">Welcome to the Weather app !!</h1>
    <form class="city-form" action="/" method="post">
        <label class="label-text" for="city">Enter the city name: </label>
        <input type="text" id = "city" name="city" required>
        <button class="btn btn-dark" type="submit">Search</button>

    </form>


    <%if(locals.data){%>
    <div class="row d-flex justify-content-center py-5">
        <div class="col-md-8 col-lg-6 col-xl-5">
          <div class="card text-body" style=" border-radius: 35px;">
            <div class="card-body p-4">
      
              <div class="d-flex">
                <h6 class="flex-grow-1"><%=data.data.name%></h6>
                <h6><%=data.headers.date%></h6>
              </div>
      
              <div class="d-flex flex-column text-center mt-5 mb-4">
                <h6 class="display-4 mb-0 font-weight-bold"><%=Math.round((data.data.main.temp - 273.15))%> C</h6>
                <span class="small" style="color: #868B94">Stormy</span>
              </div>
      
              <div class="d-flex align-items-center">
                <div class="flex-grow-1" style="font-size: 1rem;">
                  <div><i class="fas fa-wind fa-fw" style="color: #868B94;"></i> <span class="ms-1">Wind: <%=Math.round(data.data.wind.speed * 18 / 5)%> km/h
                    </span>
                  </div>
                  <div><i class="fas fa-tint fa-fw" style="color: #868B94;"></i> <span class="ms-1">Humidity: <%=data.data.main.humidity%>%
                    </span></div>
                  <div><i class="fas fa-sun fa-fw" style="color: #868B94;"></i> <span class="ms-1">Pressure: <%=data.data.main.pressure%> hPa
                    </span></div>
                </div>
                <div>
                  <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-weather/ilu1.webp"
                    width="100px">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <%}%>

      <%if(locals.error){%>
        <div id="tag-error" class="tag-error">
          <%=error%>
        </div>
      <%}%>


      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
</body>
</html>